# Flutter コード規約

このドキュメントでは、Flutterプロジェクトで使用するコーディングスタイルとベストプラクティスを定義します。

## 1. コードフォーマット

- **自動フォーマット**: コードの整形には`flutter format`や`dartfmt`を使用してください。これにより、チーム全体で一貫したコードスタイルが保たれます。
  ```bash
  flutter format .
  ```

- **行の長さ**: 1行の長さは80文字以内を推奨します。それを超える場合は、適切に改行してください。

## 2. 命名規則

- **クラス名**: パスカルケース（例: `MyClassName`）を使用します。
- **メソッド名**: キャメルケース（例: `myMethodName`）を使用します。
- **変数名**: キャメルケース（例: `myVariableName`）を使用します。
- **定数名**: 全て大文字のスネークケース（例: `MY_CONSTANT_VALUE`）を使用します。
- **ファイル名**: スネークケース（例: `my_class_name.dart`）を使用します。

## 3. コメント

- **ドキュメンテーションコメント**: 公開APIやクラス、メソッドに対しては、必ずドキュメンテーションコメントを追加してください。
  ```dart
  /// これはサンプルクラスです
  class MyClass {
    /// これはサンプルメソッドです
    void myMethod() {
      // 実装内容
    }
  }
  ```

- **TODOコメント**: 未実装の機能や改善が必要な箇所には`TODO:`コメントを使用します。
  ```dart
  // TODO: このメソッドにエラーハンドリングを追加する
  ```

## 4. ディレクトリ構造

- **lib/**: アプリケーションの主要なコードが含まれます。
  - **models/**: データモデルクラスを配置します。
  - **viewmodels/**: ビジネスロジックや状態管理を行うクラスを配置します。
  - **views/**: UIを構成するウィジェットや画面を配置します。
  - **services/**: サービス層（API通信、データベースアクセスなど）を配置します。
  - **widgets/**: 再利用可能なウィジェットを配置します。

## 5. インポートの順序

- インポートは以下の順序で整理してください：
  1. Dartの標準ライブラリ
  2. サードパーティパッケージ
  3. アプリケーション固有のパッケージ（絶対パスを推奨）
  
  各セクション間には1行の空行を入れてください。

  ```dart
  import 'dart:async';

  import 'package:flutter/material.dart';
  import 'package:flutter_riverpod/flutter_riverpod.dart';

  import 'package:your_project/models/user_model.dart';
  import 'package:your_project/viewmodels/auth_viewmodel.dart';
  ```

## 6. テスト

- **テストの命名**: テストケースの名前は、テスト対象の機能とその結果を明確に表現する名前にしてください。
- **テストディレクトリ**: テストは`test/`ディレクトリに配置し、対応する`lib/`ディレクトリの構造を反映させてください。

## 7. State Management

- プロジェクト全体で一貫した状態管理手法を使用してください。例えば、`Riverpod`を使用している場合、全ての状態管理に`Riverpod`を適用します。

## 8. PRルール

- プルリクエスト（PR）は、必ず他のメンバーによってレビューされる必要があります。
- PRには、対応するテストコードを含めてください。
- チェックリストを含めてください（例: フォーマットの確認、テストの実施、ドキュメントの更新）。

## 9. その他のベストプラクティス

- **UI/UX**: UI/UX設計にはガイドラインに従い、ユーザーにとって直感的で一貫した操作ができるようにしてください。
- **パフォーマンス**: パフォーマンスに配慮し、不要なビルドやリビルドを避けるようにします。`const`コンストラクタを活用し、ビルド回数を削減します。

---

以上のガイドラインに従ってコードを書き、プロジェクトの品質を維持してください。定期的にこのドキュメントを見直し、プロジェクトの進展に応じて更新してください。